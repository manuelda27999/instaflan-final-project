function cov_23kuayc2wd(){var path="C:\\Users\\loco8\\workspace\\eurofirms-bootcamp-202305\\staff\\manuel-david-castillo\\instaflan-fullstack\\api\\logic\\user-logic\\registerUser.js";var hash="4dbabcc4d40c4c9cbe059a2c7bf2f035bd25f70f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\loco8\\workspace\\eurofirms-bootcamp-202305\\staff\\manuel-david-castillo\\instaflan-fullstack\\api\\logic\\user-logic\\registerUser.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:45}},"1":{start:{line:2,column:58},end:{line:2,column:90}},"2":{start:{line:5,column:4},end:{line:5,column:22}},"3":{start:{line:6,column:4},end:{line:6,column:24}},"4":{start:{line:7,column:4},end:{line:7,column:30}},"5":{start:{line:9,column:4},end:{line:15,column:24}},"6":{start:{line:11,column:12},end:{line:11,column:60}},"7":{start:{line:11,column:22},end:{line:11,column:60}},"8":{start:{line:13,column:12},end:{line:13,column:57}},"9":{start:{line:18,column:0},end:{line:18,column:29}}},fnMap:{"0":{name:"registerUser",decl:{start:{line:4,column:9},end:{line:4,column:21}},loc:{start:{line:4,column:45},end:{line:16,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:14},end:{line:10,column:15}},loc:{start:{line:10,column:22},end:{line:14,column:9}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:14},end:{line:15,column:15}},loc:{start:{line:15,column:20},end:{line:15,column:23}},line:15}},branchMap:{"0":{loc:{start:{line:11,column:12},end:{line:11,column:60}},type:"if",locations:[{start:{line:11,column:12},end:{line:11,column:60}},{start:{line:11,column:12},end:{line:11,column:60}}],line:11}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4dbabcc4d40c4c9cbe059a2c7bf2f035bd25f70f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_23kuayc2wd=function(){return actualCoverage;};}return actualCoverage;}cov_23kuayc2wd();const{User}=(cov_23kuayc2wd().s[0]++,require('../../data/models'));const{validateName,validateEmail,validatePassword}=(cov_23kuayc2wd().s[1]++,require('../helpers/validators'));function registerUser(name,email,password){cov_23kuayc2wd().f[0]++;cov_23kuayc2wd().s[2]++;validateName(name);cov_23kuayc2wd().s[3]++;validateEmail(email);cov_23kuayc2wd().s[4]++;validatePassword(password);cov_23kuayc2wd().s[5]++;return User.findOne({email}).then(user=>{cov_23kuayc2wd().f[1]++;cov_23kuayc2wd().s[6]++;if(user){cov_23kuayc2wd().b[0][0]++;cov_23kuayc2wd().s[7]++;throw new Error('user already exists');}else{cov_23kuayc2wd().b[0][1]++;}cov_23kuayc2wd().s[8]++;return User.create({name,email,password});}).then(()=>{cov_23kuayc2wd().f[2]++;});}cov_23kuayc2wd().s[9]++;module.exports=registerUser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjNrdWF5YzJ3ZCIsImFjdHVhbENvdmVyYWdlIiwiVXNlciIsInMiLCJyZXF1aXJlIiwidmFsaWRhdGVOYW1lIiwidmFsaWRhdGVFbWFpbCIsInZhbGlkYXRlUGFzc3dvcmQiLCJyZWdpc3RlclVzZXIiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImYiLCJmaW5kT25lIiwidGhlbiIsInVzZXIiLCJiIiwiRXJyb3IiLCJjcmVhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsicmVnaXN0ZXJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZSgnLi4vLi4vZGF0YS9tb2RlbHMnKVxyXG5jb25zdCB7IHZhbGlkYXRlTmFtZSwgdmFsaWRhdGVFbWFpbCwgdmFsaWRhdGVQYXNzd29yZCB9ID0gcmVxdWlyZSgnLi4vaGVscGVycy92YWxpZGF0b3JzJylcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihuYW1lLCBlbWFpbCwgcGFzc3dvcmQpIHtcclxuICAgIHZhbGlkYXRlTmFtZShuYW1lKVxyXG4gICAgdmFsaWRhdGVFbWFpbChlbWFpbClcclxuICAgIHZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmQpXHJcblxyXG4gICAgcmV0dXJuIFVzZXIuZmluZE9uZSh7IGVtYWlsIH0pXHJcbiAgICAgICAgLnRoZW4odXNlciA9PiB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZXIgYWxyZWFkeSBleGlzdHMnKVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFVzZXIuY3JlYXRlKHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7IH0pXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcmVnaXN0ZXJVc2VyIl0sIm1hcHBpbmdzIjoiOC9EQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBRUUsSUFBSyxDQUFDLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsRUFDN0MsS0FBTSxDQUFFQyxZQUFZLENBQUVDLGFBQWEsQ0FBRUMsZ0JBQWlCLENBQUMsRUFBQVAsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxFQUUxRixRQUFTLENBQUFJLFlBQVlBLENBQUNDLElBQUksQ0FBRUMsS0FBSyxDQUFFQyxRQUFRLENBQUUsQ0FBQVgsY0FBQSxHQUFBWSxDQUFBLE1BQUFaLGNBQUEsR0FBQUcsQ0FBQSxNQUN6Q0UsWUFBWSxDQUFDSSxJQUFJLENBQUMsQ0FBQVQsY0FBQSxHQUFBRyxDQUFBLE1BQ2xCRyxhQUFhLENBQUNJLEtBQUssQ0FBQyxDQUFBVixjQUFBLEdBQUFHLENBQUEsTUFDcEJJLGdCQUFnQixDQUFDSSxRQUFRLENBQUMsQ0FBQVgsY0FBQSxHQUFBRyxDQUFBLE1BRTFCLE1BQU8sQ0FBQUQsSUFBSSxDQUFDVyxPQUFPLENBQUMsQ0FBRUgsS0FBTSxDQUFDLENBQUMsQ0FDekJJLElBQUksQ0FBQ0MsSUFBSSxFQUFJLENBQUFmLGNBQUEsR0FBQVksQ0FBQSxNQUFBWixjQUFBLEdBQUFHLENBQUEsTUFDVixHQUFJWSxJQUFJLENBQUUsQ0FBQWYsY0FBQSxHQUFBZ0IsQ0FBQSxTQUFBaEIsY0FBQSxHQUFBRyxDQUFBLFdBQU0sSUFBSSxDQUFBYyxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBRCxDQUFDLEtBQUFqQixjQUFBLEdBQUFnQixDQUFBLFVBQUFoQixjQUFBLEdBQUFHLENBQUEsTUFFaEQsTUFBTyxDQUFBRCxJQUFJLENBQUNnQixNQUFNLENBQUMsQ0FBRVQsSUFBSSxDQUFFQyxLQUFLLENBQUVDLFFBQVMsQ0FBQyxDQUFDLENBQ2pELENBQUMsQ0FBQyxDQUNERyxJQUFJLENBQUMsSUFBTSxDQUFBZCxjQUFBLEdBQUFZLENBQUEsTUFBRSxDQUFDLENBQUMsQ0FDeEIsQ0FBQ1osY0FBQSxHQUFBRyxDQUFBLE1BRURnQixNQUFNLENBQUNDLE9BQU8sQ0FBR1osWUFBWSJ9