function cov_2irbuo7gvc(){var path="C:\\Users\\loco8\\workspace\\eurofirms-bootcamp-202305\\staff\\manuel-david-castillo\\instaflan-fullstack\\api\\logic\\user-logic\\searchUser.js";var hash="929aecfbff5b85dfe9fefc9f3da8585515e5bf11";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\loco8\\workspace\\eurofirms-bootcamp-202305\\staff\\manuel-david-castillo\\instaflan-fullstack\\api\\logic\\user-logic\\searchUser.js",statementMap:{"0":{start:{line:1,column:37},end:{line:1,column:69}},"1":{start:{line:2,column:17},end:{line:2,column:45}},"2":{start:{line:5,column:4},end:{line:5,column:22}},"3":{start:{line:6,column:4},end:{line:6,column:22}},"4":{start:{line:8,column:18},end:{line:8,column:45}},"5":{start:{line:10,column:4},end:{line:19,column:10}},"6":{start:{line:13,column:12},end:{line:16,column:14}},"7":{start:{line:14,column:16},end:{line:14,column:45}},"8":{start:{line:15,column:16},end:{line:15,column:31}},"9":{start:{line:18,column:12},end:{line:18,column:24}},"10":{start:{line:22,column:0},end:{line:22,column:27}}},fnMap:{"0":{name:"searchUser",decl:{start:{line:4,column:9},end:{line:4,column:19}},loc:{start:{line:4,column:34},end:{line:20,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:14},end:{line:11,column:15}},loc:{start:{line:11,column:23},end:{line:19,column:9}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:13,column:26},end:{line:13,column:27}},loc:{start:{line:13,column:34},end:{line:16,column:13}},line:13}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0,"2":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"929aecfbff5b85dfe9fefc9f3da8585515e5bf11"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2irbuo7gvc=function(){return actualCoverage;};}return actualCoverage;}cov_2irbuo7gvc();const{validateId,validateText}=(cov_2irbuo7gvc().s[0]++,require('../helpers/validators'));const{User}=(cov_2irbuo7gvc().s[1]++,require('../../data/models'));function searchUser(userId,text){cov_2irbuo7gvc().f[0]++;cov_2irbuo7gvc().s[2]++;validateId(userId);cov_2irbuo7gvc().s[3]++;validateText(text);const regex=(cov_2irbuo7gvc().s[4]++,new RegExp(`^${text}`,'i'));cov_2irbuo7gvc().s[5]++;return User.find({name:{$regex:regex}},{name:1,image:1}).lean().then(users=>{cov_2irbuo7gvc().f[1]++;cov_2irbuo7gvc().s[6]++;users.forEach(user=>{cov_2irbuo7gvc().f[2]++;cov_2irbuo7gvc().s[7]++;user.id=user._id.toString();cov_2irbuo7gvc().s[8]++;delete user._id;});cov_2irbuo7gvc().s[9]++;return users;});}cov_2irbuo7gvc().s[10]++;module.exports=searchUser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmlyYnVvN2d2YyIsImFjdHVhbENvdmVyYWdlIiwidmFsaWRhdGVJZCIsInZhbGlkYXRlVGV4dCIsInMiLCJyZXF1aXJlIiwiVXNlciIsInNlYXJjaFVzZXIiLCJ1c2VySWQiLCJ0ZXh0IiwiZiIsInJlZ2V4IiwiUmVnRXhwIiwiZmluZCIsIm5hbWUiLCIkcmVnZXgiLCJpbWFnZSIsImxlYW4iLCJ0aGVuIiwidXNlcnMiLCJmb3JFYWNoIiwidXNlciIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsic2VhcmNoVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHZhbGlkYXRlSWQsIHZhbGlkYXRlVGV4dCB9ID0gcmVxdWlyZSgnLi4vaGVscGVycy92YWxpZGF0b3JzJylcclxuY29uc3QgeyBVc2VyIH0gPSByZXF1aXJlKCcuLi8uLi9kYXRhL21vZGVscycpXHJcblxyXG5mdW5jdGlvbiBzZWFyY2hVc2VyKHVzZXJJZCwgdGV4dCkge1xyXG4gICAgdmFsaWRhdGVJZCh1c2VySWQpXHJcbiAgICB2YWxpZGF0ZVRleHQodGV4dClcclxuXHJcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYF4ke3RleHR9YCwgJ2knKVxyXG5cclxuICAgIHJldHVybiBVc2VyLmZpbmQoeyBuYW1lOiB7ICRyZWdleDogcmVnZXggfSB9LCB7IG5hbWU6IDEsIGltYWdlOiAxIH0pLmxlYW4oKVxyXG4gICAgICAgIC50aGVuKHVzZXJzID0+IHtcclxuXHJcbiAgICAgICAgICAgIHVzZXJzLmZvckVhY2godXNlciA9PiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyLmlkID0gdXNlci5faWQudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHVzZXIuX2lkXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdXNlcnNcclxuICAgICAgICB9KVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNlYXJjaFVzZXIiXSwibWFwcGluZ3MiOiI4MkRBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFFRSxVQUFVLENBQUVDLFlBQWEsQ0FBQyxFQUFBSCxjQUFBLEdBQUFJLENBQUEsTUFBR0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEVBQ3JFLEtBQU0sQ0FBRUMsSUFBSyxDQUFDLEVBQUFOLGNBQUEsR0FBQUksQ0FBQSxNQUFHQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsRUFFN0MsUUFBUyxDQUFBRSxVQUFVQSxDQUFDQyxNQUFNLENBQUVDLElBQUksQ0FBRSxDQUFBVCxjQUFBLEdBQUFVLENBQUEsTUFBQVYsY0FBQSxHQUFBSSxDQUFBLE1BQzlCRixVQUFVLENBQUNNLE1BQU0sQ0FBQyxDQUFBUixjQUFBLEdBQUFJLENBQUEsTUFDbEJELFlBQVksQ0FBQ00sSUFBSSxDQUFDLENBRWxCLEtBQU0sQ0FBQUUsS0FBSyxFQUFBWCxjQUFBLEdBQUFJLENBQUEsTUFBRyxHQUFJLENBQUFRLE1BQU0sQ0FBRSxJQUFHSCxJQUFLLEVBQUMsQ0FBRSxHQUFHLENBQUMsRUFBQVQsY0FBQSxHQUFBSSxDQUFBLE1BRXpDLE1BQU8sQ0FBQUUsSUFBSSxDQUFDTyxJQUFJLENBQUMsQ0FBRUMsSUFBSSxDQUFFLENBQUVDLE1BQU0sQ0FBRUosS0FBTSxDQUFFLENBQUMsQ0FBRSxDQUFFRyxJQUFJLENBQUUsQ0FBQyxDQUFFRSxLQUFLLENBQUUsQ0FBRSxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FDdEVDLElBQUksQ0FBQ0MsS0FBSyxFQUFJLENBQUFuQixjQUFBLEdBQUFVLENBQUEsTUFBQVYsY0FBQSxHQUFBSSxDQUFBLE1BRVhlLEtBQUssQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLEVBQUksQ0FBQXJCLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFJLENBQUEsTUFDbEJpQixJQUFJLENBQUNDLEVBQUUsQ0FBR0QsSUFBSSxDQUFDRSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxDQUFDLENBQUF4QixjQUFBLEdBQUFJLENBQUEsTUFDN0IsTUFBTyxDQUFBaUIsSUFBSSxDQUFDRSxHQUFHLENBQ25CLENBQUMsQ0FBQyxDQUFBdkIsY0FBQSxHQUFBSSxDQUFBLE1BRUYsTUFBTyxDQUFBZSxLQUFLLENBQ2hCLENBQUMsQ0FBQyxDQUNWLENBQUNuQixjQUFBLEdBQUFJLENBQUEsT0FFRHFCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHbkIsVUFBVSJ9