function cov_2n627ihsmp(){var path="C:\\Users\\loco8\\workspace\\eurofirms-bootcamp-202305\\staff\\manuel-david-castillo\\instaflan-fullstack\\api\\logic\\user-logic\\retrieveFollowing.js";var hash="7201024715b0c135e77254a9d651f536b103ad8c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\loco8\\workspace\\eurofirms-bootcamp-202305\\staff\\manuel-david-castillo\\instaflan-fullstack\\api\\logic\\user-logic\\retrieveFollowing.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:45}},"1":{start:{line:2,column:23},end:{line:2,column:55}},"2":{start:{line:5,column:4},end:{line:5,column:22}},"3":{start:{line:6,column:4},end:{line:6,column:29}},"4":{start:{line:8,column:4},end:{line:23,column:6}},"5":{start:{line:10,column:8},end:{line:10,column:51}},"6":{start:{line:10,column:18},end:{line:10,column:51}},"7":{start:{line:11,column:8},end:{line:11,column:65}},"8":{start:{line:11,column:25},end:{line:11,column:65}},"9":{start:{line:13,column:26},end:{line:13,column:47}},"10":{start:{line:15,column:8},end:{line:20,column:11}},"11":{start:{line:16,column:12},end:{line:16,column:55}},"12":{start:{line:17,column:12},end:{line:17,column:34}},"13":{start:{line:19,column:12},end:{line:19,column:37}},"14":{start:{line:22,column:8},end:{line:22,column:24}},"15":{start:{line:26,column:0},end:{line:26,column:32}}},fnMap:{"0":{name:"retrieveFolling",decl:{start:{line:4,column:9},end:{line:4,column:24}},loc:{start:{line:4,column:48},end:{line:24,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:10},end:{line:9,column:11}},loc:{start:{line:9,column:35},end:{line:23,column:5}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:26},end:{line:15,column:27}},loc:{start:{line:15,column:41},end:{line:20,column:9}},line:15}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:10,column:51}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:51}},{start:{line:10,column:8},end:{line:10,column:51}}],line:10},"1":{loc:{start:{line:11,column:8},end:{line:11,column:65}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:65}},{start:{line:11,column:8},end:{line:11,column:65}}],line:11}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7201024715b0c135e77254a9d651f536b103ad8c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2n627ihsmp=function(){return actualCoverage;};}return actualCoverage;}cov_2n627ihsmp();const{User}=(cov_2n627ihsmp().s[0]++,require("../../data/models"));const{validateId}=(cov_2n627ihsmp().s[1]++,require("../helpers/validators"));function retrieveFolling(userId,userIdProfile){cov_2n627ihsmp().f[0]++;cov_2n627ihsmp().s[2]++;validateId(userId);cov_2n627ihsmp().s[3]++;validateId(userIdProfile);cov_2n627ihsmp().s[4]++;return Promise.all([User.findById(userId,'-__v').lean(),User.findById(userIdProfile,'-__v').populate('following','name image').lean()]).then(([user,userProfile])=>{cov_2n627ihsmp().f[1]++;cov_2n627ihsmp().s[5]++;if(!user){cov_2n627ihsmp().b[0][0]++;cov_2n627ihsmp().s[6]++;throw new Error('user not found');}else{cov_2n627ihsmp().b[0][1]++;}cov_2n627ihsmp().s[7]++;if(!userProfile){cov_2n627ihsmp().b[1][0]++;cov_2n627ihsmp().s[8]++;throw new Error('userProfile not found');}else{cov_2n627ihsmp().b[1][1]++;}const following=(cov_2n627ihsmp().s[9]++,userProfile.following);cov_2n627ihsmp().s[10]++;following.forEach(userProfile=>{cov_2n627ihsmp().f[2]++;cov_2n627ihsmp().s[11]++;userProfile.id=userProfile._id.toString();cov_2n627ihsmp().s[12]++;delete userProfile._id;cov_2n627ihsmp().s[13]++;userProfile.follow=true;});cov_2n627ihsmp().s[14]++;return following;});}cov_2n627ihsmp().s[15]++;module.exports=retrieveFolling;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm42MjdpaHNtcCIsImFjdHVhbENvdmVyYWdlIiwiVXNlciIsInMiLCJyZXF1aXJlIiwidmFsaWRhdGVJZCIsInJldHJpZXZlRm9sbGluZyIsInVzZXJJZCIsInVzZXJJZFByb2ZpbGUiLCJmIiwiUHJvbWlzZSIsImFsbCIsImZpbmRCeUlkIiwibGVhbiIsInBvcHVsYXRlIiwidGhlbiIsInVzZXIiLCJ1c2VyUHJvZmlsZSIsImIiLCJFcnJvciIsImZvbGxvd2luZyIsImZvckVhY2giLCJpZCIsIl9pZCIsInRvU3RyaW5nIiwiZm9sbG93IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInJldHJpZXZlRm9sbG93aW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZShcIi4uLy4uL2RhdGEvbW9kZWxzXCIpO1xyXG5jb25zdCB7IHZhbGlkYXRlSWQgfSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3ZhbGlkYXRvcnNcIik7XHJcblxyXG5mdW5jdGlvbiByZXRyaWV2ZUZvbGxpbmcodXNlcklkICx1c2VySWRQcm9maWxlKSB7XHJcbiAgICB2YWxpZGF0ZUlkKHVzZXJJZClcclxuICAgIHZhbGlkYXRlSWQodXNlcklkUHJvZmlsZSlcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1VzZXIuZmluZEJ5SWQodXNlcklkLCAnLV9fdicpLmxlYW4oKSwgVXNlci5maW5kQnlJZCh1c2VySWRQcm9maWxlLCAnLV9fdicpLnBvcHVsYXRlKCdmb2xsb3dpbmcnLCAnbmFtZSBpbWFnZScpLmxlYW4oKV0pXHJcbiAgICAudGhlbigoW3VzZXIsIHVzZXJQcm9maWxlXSkgPT4ge1xyXG4gICAgICAgIGlmKCF1c2VyKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZXIgbm90IGZvdW5kJylcclxuICAgICAgICBpZighdXNlclByb2ZpbGUpIHRocm93IG5ldyBFcnJvcigndXNlclByb2ZpbGUgbm90IGZvdW5kJylcclxuXHJcbiAgICAgICAgY29uc3QgZm9sbG93aW5nID0gdXNlclByb2ZpbGUuZm9sbG93aW5nXHJcblxyXG4gICAgICAgIGZvbGxvd2luZy5mb3JFYWNoKHVzZXJQcm9maWxlID0+IHtcclxuICAgICAgICAgICAgdXNlclByb2ZpbGUuaWQgPSB1c2VyUHJvZmlsZS5faWQudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICBkZWxldGUgdXNlclByb2ZpbGUuX2lkXHJcblxyXG4gICAgICAgICAgICB1c2VyUHJvZmlsZS5mb2xsb3cgPSB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBmb2xsb3dpbmdcclxuICAgIH0pXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcmV0cmlldmVGb2xsaW5nIl0sIm1hcHBpbmdzIjoiNGtGQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBRUUsSUFBSyxDQUFDLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsRUFDN0MsS0FBTSxDQUFFQyxVQUFXLENBQUMsRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxFQUV2RCxRQUFTLENBQUFFLGVBQWVBLENBQUNDLE1BQU0sQ0FBRUMsYUFBYSxDQUFFLENBQUFSLGNBQUEsR0FBQVMsQ0FBQSxNQUFBVCxjQUFBLEdBQUFHLENBQUEsTUFDNUNFLFVBQVUsQ0FBQ0UsTUFBTSxDQUFDLENBQUFQLGNBQUEsR0FBQUcsQ0FBQSxNQUNsQkUsVUFBVSxDQUFDRyxhQUFhLENBQUMsQ0FBQVIsY0FBQSxHQUFBRyxDQUFBLE1BRXpCLE1BQU8sQ0FBQU8sT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQ1QsSUFBSSxDQUFDVSxRQUFRLENBQUNMLE1BQU0sQ0FBRSxNQUFNLENBQUMsQ0FBQ00sSUFBSSxDQUFDLENBQUMsQ0FBRVgsSUFBSSxDQUFDVSxRQUFRLENBQUNKLGFBQWEsQ0FBRSxNQUFNLENBQUMsQ0FBQ00sUUFBUSxDQUFDLFdBQVcsQ0FBRSxZQUFZLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQzFJRSxJQUFJLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUVDLFdBQVcsQ0FBQyxHQUFLLENBQUFqQixjQUFBLEdBQUFTLENBQUEsTUFBQVQsY0FBQSxHQUFBRyxDQUFBLE1BQzNCLEdBQUcsQ0FBQ2EsSUFBSSxDQUFFLENBQUFoQixjQUFBLEdBQUFrQixDQUFBLFNBQUFsQixjQUFBLEdBQUFHLENBQUEsV0FBTSxJQUFJLENBQUFnQixLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBRCxDQUFDLEtBQUFuQixjQUFBLEdBQUFrQixDQUFBLFVBQUFsQixjQUFBLEdBQUFHLENBQUEsTUFDM0MsR0FBRyxDQUFDYyxXQUFXLENBQUUsQ0FBQWpCLGNBQUEsR0FBQWtCLENBQUEsU0FBQWxCLGNBQUEsR0FBQUcsQ0FBQSxXQUFNLElBQUksQ0FBQWdCLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFELENBQUMsS0FBQW5CLGNBQUEsR0FBQWtCLENBQUEsVUFFekQsS0FBTSxDQUFBRSxTQUFTLEVBQUFwQixjQUFBLEdBQUFHLENBQUEsTUFBR2MsV0FBVyxDQUFDRyxTQUFTLEVBQUFwQixjQUFBLEdBQUFHLENBQUEsT0FFdkNpQixTQUFTLENBQUNDLE9BQU8sQ0FBQ0osV0FBVyxFQUFJLENBQUFqQixjQUFBLEdBQUFTLENBQUEsTUFBQVQsY0FBQSxHQUFBRyxDQUFBLE9BQzdCYyxXQUFXLENBQUNLLEVBQUUsQ0FBR0wsV0FBVyxDQUFDTSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxDQUFDLENBQUF4QixjQUFBLEdBQUFHLENBQUEsT0FDM0MsTUFBTyxDQUFBYyxXQUFXLENBQUNNLEdBQUcsQ0FBQXZCLGNBQUEsR0FBQUcsQ0FBQSxPQUV0QmMsV0FBVyxDQUFDUSxNQUFNLENBQUcsSUFBSSxDQUM3QixDQUFDLENBQUMsQ0FBQ3pCLGNBQUEsR0FBQUcsQ0FBQSxPQUVILE1BQU8sQ0FBQWlCLFNBQVMsQ0FDcEIsQ0FBQyxDQUFDLENBQ04sQ0FBQ3BCLGNBQUEsR0FBQUcsQ0FBQSxPQUVEdUIsTUFBTSxDQUFDQyxPQUFPLENBQUdyQixlQUFlIn0=